<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>ShopMaster - Home</title>
	<script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 font-sans">

	<!-- Header -->
	<div th:replace="fragments/header :: header"></div>

	<!-- Main Container -->
	<div class="container mx-auto mt-10">

		<h2 class="text-3xl font-bold text-gray-800 mb-6">Shop Products</h2>

		<!-- Search & Category Filter -->
		
		<form th:action="@{/home}" method="get" class="flex flex-col sm:flex-row items-center mb-6 gap-4">
			
	<input type="text" name="search" placeholder="Search products..." 
					class="flex-1 border rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-600" >
				
			<select name="categoryId"
				class="border rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-600">
				<option value="">All Categories</option>
				<option th:each="cat : ${categories}" th:value="${cat.id}" th:text="${cat.name}"
					th:selected="${cat.id == selectedCategory}"></option>
			</select>
			
			<button type="submit" class="bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700">Filter</button>
			
		</form>

		<!-- Product Grid -->
		<div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
			<div th:each="product : ${product}"
				class="bg-white shadow rounded-lg overflow-hidden hover:shadow-lg transition-shadow duration-300">
				<img th:src="${product.imageUrl}" alt="Product Image" class="w-full h-48 object-cover">
				<div class="p-4">
					<h3 class="text-lg font-semibold text-gray-800 mb-2" th:text="${product.name}">Product Name</h3>
					<p class="text-gray-600 text-sm mb-2" th:text="${product.description}">Product Description</p>
					
					
					<div class="flex justify-between items-center">
						<span class="text-green-600 font-bold text-lg">â‚¹<span
								th:text="${product.price}">0.00</span></span>
						<span class="text-gray-500 text-sm" th:text="'Stock: ' + ${product.stock}">Stock</span>
					</div>
					
					

					<div class="mt-4">
						
						<form th:action="@{/cart/add}" method="post"
							class="flex justify-between items-center space-x-2">
							
							<input type="hidden" name="productId" th:value="${product.id}">
							<input type="number" name="quantity" value="1" min="1"
								class="w-16 border rounded px-2 py-1 text-center">
							<button type="submit"
								class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700">Add to
								Cart</button>
								
						</form>
					</div>
					
					
					
				</div>
			</div>
		</div>
		
		
		
	</div>

	<!-- Footer -->
	<div th:replace="fragments/footer :: footer"></div>

</body>

</html>